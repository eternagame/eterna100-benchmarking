diff --git a/SentRNA/run.py b/SentRNA/run.py
index a86acb7..f9e3523 100644
--- a/SentRNA/run.py
+++ b/SentRNA/run.py
@@ -59,7 +59,7 @@ def train(results_path, n_layers, hidden_size, nb_epochs, mini_epoch, MI_feature
         test_accuracy = test_accuracy2
     pickle.dump([best_model, val_solutions[best_model], val_accuracies[best_model], test_solution, test_accuracy], open('results/%s.pkl'%(results_path), 'w'))
     os.system('mv test/%s_mini-epoch_%d* test/%s'%(results_path, best_model, results_path))
-    os.system('rm test/*')
+    os.system('rm test/%s_mini-epoch_*'%(results_path))
     return 0
 
 
diff --git a/SentRNA/util/featurize_util.py b/SentRNA/util/featurize_util.py
index 95817a4..aaf4564 100644
--- a/SentRNA/util/featurize_util.py
+++ b/SentRNA/util/featurize_util.py
@@ -1,5 +1,7 @@
 import numpy as np
 import os
+import subprocess
+import tempfile
 from mutinf import *
 from compute_mfe import *
 import random
@@ -89,12 +91,19 @@ def generate_label(base):
 # Data parsing functions
 def generate_2d(dot_bracket):
   '''Generate a 2d representation of a dot bracket string and puzzle solution.'''
+  tmpdir = tempfile.mkdtemp()
+  oldcwd = os.getcwd()
+  os.chdir(tmpdir)
+
   inputs = open('input', 'w')
   inputs.write('A' * len(dot_bracket) + '\n')
   inputs.write(dot_bracket)
   inputs.close()
+
   os.system('RNAplot < input')
 
+  os.chdir(oldcwd)
+  return tmpdir
 
 def parse_ps(ps):
   '''Parses a RNAplot output file and returns:
@@ -140,8 +149,9 @@ def parse_ps(ps):
 
 # RNAplot
 def draw_structure_rnaplot(dot_bracket):
-    generate_2d(dot_bracket)
-    coords, pairs, _ = parse_ps('rna.ps')
+    tmpdir = generate_2d(dot_bracket)
+    coords, pairs, _ = parse_ps(tmpdir + '/rna.ps')
+    os.system('rm -r ' + tmpdir)
     return coords, pairs
 
 # Eterna
